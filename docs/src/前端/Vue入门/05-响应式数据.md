# Vue 3 响应式数据

## 什么是响应式数据？

在 Vue.js 中，响应式数据是指当数据发生变化时，视图会自动更新的数据。Vue 3 使用 Proxy 对象来实现响应式数据，这使得数据变化可以被高效地追踪和更新。

## `ref`

`ref` 函数用于创建响应式的基本类型数据（如数字、字符串、布尔值等）。

```vue
<template>
  <div>
    <p>Count: {{ count }}</p>
    <button @click="increment">Increment</button>
  </div>
</template>

<script setup>
import { ref } from 'vue';

const count = ref(0);

const increment = () => {
  count.value++;
};
</script>
```

在模板中，我们可以直接使用 `count`，Vue 会自动解包 `ref` 对象。在 JavaScript 中，我们需要使用 `count.value` 来访问或修改 `ref` 的值。

## `reactive`

`reactive` 函数用于创建响应式的对象或数组。

```vue
<template>
  <div>
    <p>Name: {{ person.name }}</p>
    <p>Age: {{ person.age }}</p>
    <button @click="updatePerson">Update Person</button>
  </div>
</template>

<script setup>
import { reactive } from 'vue';

const person = reactive({
  name: 'John Doe',
  age: 30,
});

const updatePerson = () => {
  person.name = 'Jane Doe';
  person.age = 25;
};
</script>
```

在模板和 JavaScript 中，我们可以直接访问 `person` 对象的属性，Vue 会自动追踪这些属性的变化。

## `computed`

`computed` 函数用于创建基于其他响应式数据的计算属性。计算属性的值会被缓存，只有当依赖的响应式数据发生变化时才会重新计算。

```vue
<template>
  <div>
    <p>Price: {{ price }}</p>
    <p>Tax: {{ tax }}</p>
    <p>Total: {{ total }}</p>
  </div>
</template>

<script setup>
import { ref, computed } from 'vue';

const price = ref(100);
const taxRate = ref(0.1);

const tax = computed(() => price.value * taxRate.value);
const total = computed(() => price.value + tax.value);
</script>
```

## `watch`

`watch` 函数用于监听响应式数据的变化，并在数据变化时执行回调函数。

```vue
<template>
  <div>
    <p>Count: {{ count }}</p>
    <button @click="increment">Increment</button>
  </div>
</template>

<script setup>
import { ref, watch } from 'vue';

const count = ref(0);

watch(count, (newValue, oldValue) => {
  console.log(`Count changed from ${oldValue} to ${newValue}`);
});

const increment = () => {
  count.value++;
};
</script>
```

## 总结

Vue 3 的响应式数据系统非常强大，可以帮助我们轻松地管理应用程序的状态。接下来，我们将学习 Vue 3 的 Composition API。
